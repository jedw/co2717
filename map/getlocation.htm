<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Map</title>
    <script src="http://maps.googleapis.com/maps/api/js"></script>     
</head>
<body>
    <div id="googleMap" style="width:640px;height:480px;"></div>
    <button onclick="getLocation()">get location</button>
    <script>
        var myCentre;
        
        function initialize() {
            var mapProp = {
                center:new google.maps.LatLng(53.7636957,-2.7078536),     
                zoom:12,        
                mapTypeId:google.maps.MapTypeId.ROADMAP     
            };  

            var map=new google.maps.Map(document.getElementById("googleMap"),mapProp);
            
            var marker=new google.maps.Marker({
                position:myCentre,
            });
            
            marker.setMap(map);
        }
        google.maps.event.addDomListener(window, 'load', initialize);

        function getLocation(){
            if(navigator.geolocation){
                navigator.geolocation.getCurrentPosition(show_map);
            } 
            else {
                alert("error");
            }
        }

        function show_map(position){
            myCentre = new google.maps.LatLng(position.coords.latitude,position.coords.longitude);
            initialize();
        }

    </script>
</body>
</html>